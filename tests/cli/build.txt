# TODO(ENG-312): enable when done
$ out=$(mktemp -d)
$ ${AK} builds create --path examples/testprograms/hiss.star
Error: create build: build error for "examples/testprograms/hiss.star": runtime_build: undefined: hisssss
 [0] examples/testprograms/hiss.star:1.1
$ ${AK} builds create --path examples/testprograms/main.star -o ${out}/build.akb -d
{
  "info": {},
  "runtimes": [
    {
      "info": {
        "name": "config"
      },
      "artifact": {
        "exports": [
          {
            "symbol": "text"
          },
          {
            "symbol": "text"
          }
        ],
        "compiled_data": {
          "examples/testprograms/poem1.txt": "",
          "examples/testprograms/poem2.txt": ""
        }
      }
    },
    {
      "info": {
        "name": "starlark"
      },
      "artifact": {
        "requirements": [
          {
            "location": {
              "path": "examples/testprograms/main.star",
              "row": 3,
              "col": 6
            },
            "url": "examples/testprograms/poem1.txt"
          },
          {
            "location": {
              "path": "examples/testprograms/main.star",
              "row": 4,
              "col": 6
            },
            "url": "examples/testprograms/poem2.txt"
          }
        ],
        "exports": [
          {
            "location": {
              "path": "examples/testprograms/main.star",
              "row": 6,
              "col": 1
            },
            "symbol": "num_cats"
          },
          {
            "location": {
              "path": "examples/testprograms/main.star",
              "row": 7,
              "col": 1
            },
            "symbol": "num_dogs"
          }
        ],
        "compiled_data": {
          "examples/testprograms/cats.star": "",
          "examples/testprograms/dogs.star": "",
          "examples/testprograms/main.star": ""
        }
      }
    }
  ],
  "runtime_requirements": []
}
$ cd ${out}
$ tar tf build.akb
version.txt
info.json
requirements.json
runtimes/config/info.json
runtimes/config/requirements.json
runtimes/config/exports.json
runtimes/config/compiled/examples/testprograms/poem1.txt
runtimes/config/compiled/examples/testprograms/poem2.txt
runtimes/starlark/info.json
runtimes/starlark/requirements.json
runtimes/starlark/exports.json
runtimes/starlark/compiled/examples/testprograms/cats.star
runtimes/starlark/compiled/examples/testprograms/dogs.star
runtimes/starlark/compiled/examples/testprograms/main.star
$ tar xf build.akb
$ cat version.txt
1
$ cat info.json
{}
$ cd runtimes/starlark
$ cat info.json
{
  "name": "starlark"
}
$ cat exports.json
[
  {
    "location": {
      "path": "examples/testprograms/main.star",
      "row": 6,
      "col": 1
    },
    "symbol": "num_cats"
  },
  {
    "location": {
      "path": "examples/testprograms/main.star",
      "row": 7,
      "col": 1
    },
    "symbol": "num_dogs"
  }
]
$ cat requirements.json
[
  {
    "location": {
      "path": "examples/testprograms/main.star",
      "row": 3,
      "col": 6
    },
    "url": "examples/testprograms/poem1.txt"
  },
  {
    "location": {
      "path": "examples/testprograms/main.star",
      "row": 4,
      "col": 6
    },
    "url": "examples/testprograms/poem2.txt"
  }
]
$
